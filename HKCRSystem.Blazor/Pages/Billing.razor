@page "/billing"
@using HKCRSystem.Blazor.Data.DTO
@inject ISnackbar Snackbar

<PageTitle>Billing</PageTitle>

<MudContainer Class="mt-8 position-relative">
    <MudTable FixedHeader="true" FixedFooter="true" Height="450px" Items="@billingsDatas" Hover="true" Striped="false">
        <ToolBarContent>
            <MudText Typo="Typo.h6">Billing</MudText>
        </ToolBarContent>
        <HeaderContent>
            <MudTh><MudTableSortLabel SortBy="new Func<BillingData, object>(BillData => BillData.Id)">ID</MudTableSortLabel></MudTh>
            <MudTh>Total Price</MudTh>
            <MudTh>Payment Type</MudTh>
            <MudTh>IsPaid</MudTh>
            <MudTh>Advance Payment</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="ID">@context.Id</MudTd>
            <MudTd DataLabel="TotalPrice">@context.TotalPrice</MudTd>
            <MudTd DataLabel="PaymentType">@context.PaymentType</MudTd>
            <MudTd DataLabel="IsPaid">@context.IsPaid</MudTd>
            <MudTd DataLabel="AdvancedPayment">@context.AdvancePayment</MudTd>
        </RowTemplate>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>

</MudContainer>


@code {
    // Global State of the Application

    private List<BillingData>? billingsDatas;
    //private bool FilterHandler(InventoryItem item) => SearchFilter(item, toSearch);
    protected override async Task OnInitializedAsync()
    {
        billingsDatas = new List<BillingData>
        {
            new BillingData
            {
                Id = Guid.NewGuid(),
                TotalPrice = 1000.0f,
                PaymentType = "Esewa",
                IsPaid = true,
                AdvancePayment = 500.0f
            },
            new BillingData
            {
                Id = Guid.NewGuid(),
                TotalPrice = 10000.0f,
                PaymentType = "Esewa",
                IsPaid = false,
                AdvancePayment = 5000.0f
            }
        };
    }
}